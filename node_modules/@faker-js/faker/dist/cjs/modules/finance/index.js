"use strict";var C=Object.create;var d=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var $=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty;var F=(i,e)=>{for(var r in e)d(i,r,{get:e[r],enumerable:!0})},h=(i,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of $(e))!E.call(i,t)&&t!==r&&d(i,t,{get:()=>e[t],enumerable:!(n=N(e,t))||n.enumerable});return i};var w=(i,e,r)=>(r=i!=null?C(x(i)):{},h(e||!i||!i.__esModule?d(r,"default",{value:i,enumerable:!0}):r,i)),L=i=>h(d({},"__esModule",{value:!0}),i);var A={};F(A,{FinanceModule:()=>S,prettyPrintIban:()=>y});module.exports=L(A);var f=require("../../errors/faker-error"),g=require("../../internal/deprecated"),p=require("../../internal/module-base"),o=w(require("./iban"));function y(i){let e="";for(let r=0;r<i.length;r+=4)e+=`${i.substring(r,r+4)} `;return e.trimEnd()}class S extends p.ModuleBase{account(e){return(0,g.deprecated)({deprecated:"faker.finance.account",proposed:"faker.finance.accountNumber",since:"8.0",until:"9.0"}),this.accountNumber(e)}accountNumber(e={}){typeof e=="number"&&(e={length:e});const{length:r=8}=e;return this.faker.string.numeric({length:r,allowLeadingZeros:!0})}accountName(){return[this.faker.helpers.arrayElement(this.faker.definitions.finance.account_type),"Account"].join(" ")}routingNumber(){const e=this.faker.string.numeric({length:8,allowLeadingZeros:!0});let r=0;for(let n=0;n<e.length;n+=3)r+=Number(e[n])*3,r+=Number(e[n+1])*7,r+=Number(e[n+2])||0;return`${e}${Math.ceil(r/10)*10-r}`}mask(e,r,n){return(0,g.deprecated)({deprecated:"faker.finance.mask",proposed:"faker.finance.maskedNumber",since:"8.0",until:"9.0"}),this.maskedNumber({length:e,parens:r,ellipsis:n})}maskedNumber(e={}){typeof e=="number"&&(e={length:e});const{ellipsis:r=!0,length:n=4,parens:t=!0}=e;let a=this.faker.string.numeric({length:n});return r&&(a=`...${a}`),t&&(a=`(${a})`),a}amount(e={},r=1e3,n=2,t="",a=!1){typeof e=="number"&&((0,g.deprecated)({deprecated:"faker.finance.amount(min, max, dec, symbol, autoFormat)",proposed:"faker.finance.amount({ min, max, dec, symbol, autoFormat })",since:"8.0",until:"9.0"}),e={min:e});const{autoFormat:s=a,dec:m=n,max:l=r,min:b=0,symbol:u=t}=e,c=this.faker.number.float({max:l,min:b,fractionDigits:m}),k=s?c.toLocaleString(void 0,{minimumFractionDigits:m}):c.toFixed(m);return u+k}transactionType(){return this.faker.helpers.arrayElement(this.faker.definitions.finance.transaction_type)}currency(){return this.faker.helpers.arrayElement(this.faker.definitions.finance.currency)}currencyCode(){return this.currency().code}currencyName(){return this.currency().name}currencySymbol(){let e;do e=this.currency().symbol;while(e.length===0);return e}bitcoinAddress(){const e=this.faker.number.int({min:25,max:39});let r=this.faker.helpers.arrayElement(["1","3"]);return r+=this.faker.string.alphanumeric({length:e,casing:"mixed",exclude:"0OIl"}),r}litecoinAddress(){const e=this.faker.number.int({min:26,max:33});return this.faker.string.fromCharacters("LM3")+this.faker.string.fromCharacters("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",e-1)}creditCardNumber(e={}){typeof e=="string"&&(e={issuer:e});const{issuer:r=""}=e;let n;const t=this.faker.definitions.finance.credit_card,a=r.toLowerCase();if(a in t)n=this.faker.helpers.arrayElement(t[a]);else if(r.includes("#"))n=r;else{const s=this.faker.helpers.objectValue(t);n=this.faker.helpers.arrayElement(s)}return n=n.replace(/\//g,""),this.faker.helpers.replaceCreditCardSymbols(n)}creditCardCVV(){return this.faker.string.numeric({length:3,allowLeadingZeros:!0})}creditCardIssuer(){return this.faker.helpers.objectKey(this.faker.definitions.finance.credit_card)}pin(e={}){typeof e=="number"&&(e={length:e});const{length:r=4}=e;if(r<1)throw new f.FakerError("minimum length is 1");return this.faker.string.numeric({length:r,allowLeadingZeros:!0})}ethereumAddress(){return this.faker.string.hexadecimal({length:40,casing:"lower"})}iban(e={},r){typeof e=="boolean"&&((0,g.deprecated)({deprecated:"faker.finance.iban(formatted, countryCode)",proposed:"faker.finance.iban({ formatted, countryCode })",since:"8.0",until:"9.0"}),e={formatted:e});const{countryCode:n=r,formatted:t=!1}=e,a=n?o.default.formats.find(u=>u.country===n):this.faker.helpers.arrayElement(o.default.formats);if(!a)throw new f.FakerError(`Country code ${n} not supported.`);let s="",m=0;for(const u of a.bban){let c=u.count;for(m+=u.count;c>0;)u.type==="a"?s+=this.faker.helpers.arrayElement(o.default.alpha):u.type==="c"?this.faker.datatype.boolean(.8)?s+=this.faker.number.int(9):s+=this.faker.helpers.arrayElement(o.default.alpha):c>=3&&this.faker.datatype.boolean(.3)?this.faker.datatype.boolean()?(s+=this.faker.helpers.arrayElement(o.default.pattern100),c-=2):(s+=this.faker.helpers.arrayElement(o.default.pattern10),c--):s+=this.faker.number.int(9),c--;s=s.substring(0,m)}let l=98-o.default.mod97(o.default.toDigitString(`${s}${a.country}00`));l<10&&(l=`0${l}`);const b=`${a.country}${l}${s}`;return t?y(b):b}bic(e={}){const{includeBranchCode:r=this.faker.datatype.boolean()}=e,n=this.faker.string.alpha({length:4,casing:"upper"}),t=this.faker.helpers.arrayElement(o.default.iso3166),a=this.faker.string.alphanumeric({length:2,casing:"upper"}),s=r?this.faker.datatype.boolean()?this.faker.string.alphanumeric({length:3,casing:"upper"}):"XXX":"";return`${n}${t}${a}${s}`}transactionDescription(){const e=this.amount(),r=this.faker.company.name(),n=this.transactionType(),t=this.accountNumber(),a=this.maskedNumber(),s=this.currencyCode();return`${n} transaction at ${r} using card ending with ***${a} for ${s} ${e} in account ***${t}`}}0&&(module.exports={FinanceModule,prettyPrintIban});
